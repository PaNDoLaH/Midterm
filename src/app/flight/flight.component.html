<div class="container">
  <h1 class="text-center" > Khaowmunkai Airline</h1>
  <form [formGroup]="flightform">
    <div class="mt-3">
      <label style="color:rgb(0, 0, 0)"> Full Name </label>
      <span style="color: red" *ngIf="flightform.get('fullName')?.errors?.['required']"> *required</span>
      <input type="text" class="form-control" id="fullname" formControlName="fullname" required />
    </div>
    <div class="line row mt-3">
      <div class="col-md-6 mt-3">
        <label> From </label>
        <select class="form-select" formControlName="form">
          <option value="" selected hidden>Select Country..</option>
          <option value="Thailand">Thailand</option>
          <option value="Japan">Japan</option>
          <option value="Korea">Korea</option>
          <option value="Taiwan">Taiwan</option>
          <option value="China">China</option>
          <option value="Laos">Laos</option>
        </select>
      </div>
      <div class="col-md-6 mt-3">
        <label> to </label>
        <select class="form-select" formControlName="to">
          <option value="" selected hidden>Select Country..</option>
          <option value="Thailand">Thailand</option>
          <option value="Japan">Japan</option>
          <option value="Korea">Korea</option>
          <option value="Taiwan">Taiwan</option>
          <option value="China">China</option>
          <option value="Laos">Laos</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label>Trip Type</label>
        <div class="line">
          <input class="col-md-1 form-check-input  m-2" type="radio" id="Oneway" name="type" value="One way"
            formControlName="type">
          <label class="form-check-label  m-1" for="Oneway">One way</label>
          <input class="col-md-1 form-check-input m-2" type="radio" id="Return" name="type" value="Return"
            formControlName="type">
          <label class="form-check-label  m-1" for="Return">Return</label>
        </div>
      </div>
      <div class="col">
        <label>
          <b style="color:rgb(0, 0, 0)">Deperture</b></label>
        <span style="color: red" *ngIf="flightform.get('departure')?.errors?.['required']">
          *required</span><br>
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="departure">
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
      <div class="col">
        <label>
          <b style="color:rgb(0, 0, 0)">Arrival</b>
        </label> <span style="color: red" *ngIf="flightform.get('arrival')?.errors?.['required']"> *required</span><br>
        <div>
          <mat-form-field appearance="fill">
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker2" formControlName="arrival">
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="line row m-3">
      <div class="col-md-4 mt-3">
        <label><b style="color:rgb(0, 0, 0)">Adults</b></label>
        <span style="color: red" *ngIf="flightform.get('adults')?.errors?.['required']"> *required</span>
        <span style="color: red" *ngIf="flightform.get('adults')?.errors?.['max']"> *max 10 passenger</span>
        <span style="color: red" *ngIf="flightform.get('adults')?.errors?.['pattern']"> *pattern is not correct</span>
        <input class="form-control" type="number" min="0" max="10" oninput="validity.valid||(value=0);" formControlName="adults">
      </div>
      <div class="col-md-4 mt-3 ">
        <label><b style="color:rgb(0, 0, 0)">Children</b></label>
        <span style="color: red" *ngIf="flightform.get('children')?.errors?.['required']"> *required</span>
        <span style="color: red" *ngIf="flightform.get('children')?.errors?.['max']">*max 10 passenger</span>
        <span style="color: red" *ngIf="flightform.get('children')?.errors?.['pattern']">*pattern is not correct</span>
        <input class="form-control" type="number" min="0" max="10" oninput="validity.valid||(value=0);" formControlName="children">
      </div>
      <div class="col-md-4 mt-3 mb-3">

        <label><b style="color:rgb(0, 0, 0)">Infants</b></label>
        <span style="color: red" *ngIf="flightform.get('infants')?.errors?.['required']"> *required</span>
        <span style="color: red" *ngIf="flightform.get('infants')?.errors?.['max']">*max 10 passenger</span>
        <span style="color: red" *ngIf="flightform.get('infants')?.errors?.['pattern']">*pattern is not correct</span>
        <input class="form-control" type="number" min="0" max="10" oninput="validity.valid||(value=0);" formControlName="infants">


      </div>
    </div>
    <div>
      <button class="btn-lg btn-block btn-primary" type="button" [disabled]="flightform.invalid"
        (click)="OnSubmit(flightform.value)">Submit</button>
    </div>

  </form>
  <table class="table table-dark col">
    <thead>
      <tr>
        <th scope="col">Full Name</th>
        <th scope="col">From</th>
        <th scope="col">To</th>
        <th scope="col">Type</th>
        <th scope="col">Departure</th>
        <th scope="col">Arrival</th>
        <th scope="col">Adults</th>
        <th scope="col">Children</th>
        <th scope="col">Infants</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let f of flightData">
        <td>{{ f.fullname }}</td>
        <td>{{ f.form }}</td>
        <td>{{ f.to }}</td>
        <td>{{ f.type }}</td>
        <td>{{ f.departure | date: "d MMM y" }}</td>
        <td>{{ f.arrival | date: "d MMM y" }}</td>
        <td>{{ f.adults }}</td>
        <td>{{ f.children }}</td>
        <td>{{ f.infants }}</td>
      </tr>
    </tbody>
  </table>

</div>
